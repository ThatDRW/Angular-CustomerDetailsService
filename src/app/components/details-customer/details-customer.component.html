<div class="container" style="width:800px">
    <h2>Customer Details</h2>
    <div *ngIf="hasError" class="alert alert-danger" style="white-space: pre-line">{{errorMessage}}</div>
    <div *ngIf="submitted" class="alert alert-success">Customer details updated succesfully.</div>

    <table>
        <tr>
            <td class="align-bottom"><input [(ngModel)]="getId" id="getid" placeholder="Enter Id" /><br/><br/></td>
            <td class="align-top"><button type="button" class="btn btn-primary" (click)="getCustomer()">Fetch Details</button></td>
        </tr>
    </table>
    <br/>

    <div *ngIf="isViewingCustomer">
        <div class="form-floating mb-3">
            <input readonly type="text" [(ngModel)]="customer.id" id="id" class="form-control-plaintext" placeholder="Id"/>
            <label for="id">Id:</label>
        </div>
        <div class="form-floating mb-3">
            <input [readonly]="!isEditing" type="text" [(ngModel)]="customer.firstname" id="firstname" [className]="isEditing ? 'form-control' : 'form-control-plaintext'" placeholder="First Name"/>
            <label for="firstname">First Name:</label>
        </div>
        <div class="form-floating mb-3">
            <input [readonly]="!isEditing" type="text" [(ngModel)]="customer.lastname" id="lastname" [className]="isEditing ? 'form-control' : 'form-control-plaintext'" placeholder="Last Name"/>
            <label for="lastname">Last Name:</label>
        </div>
        <div class="form-floating mb-3">
            <input *ngIf="!isEditing" [readonly]="!isEditing" type="text" [(ngModel)]="dateReadable" id="dateofbirth" [className]="isEditing ? 'form-control' : 'form-control-plaintext'" placeholder="Date of Birth"/>
            <input *ngIf="isEditing" ngbDatepicker #dob="ngbDatepicker" [readonly]="!isEditing" type="text" [(ngModel)]="datePickerSetDate" id="dateofbirth" [className]="isEditing ? 'form-control' : 'form-control-plaintext'"
                placeholder="Date of Birth" (click)="dob.toggle()"/>
            <label for="dateofbirth">Date of Birth:</label>
        </div>
        <div class="form-floating mb-3">
            <input [readonly]="!isEditing" type="text" [(ngModel)]="customer.address!.streetName" id="streetName" [className]="isEditing ? 'form-control' : 'form-control-plaintext'" placeholder="Street Name"/>
            <label for="streetName">Street Name:</label>
        </div>
        <div class="form-floating mb-3">
            <input [readonly]="!isEditing" type="text" [(ngModel)]="customer.address!.houseNumber" id="houseNumber" [className]="isEditing ? 'form-control' : 'form-control-plaintext'" placeholder="House Number"/>
            <label for="houseNumber">House Number:</label>
        </div>
        <div class="form-floating mb-3">
            <input [readonly]="!isEditing" type="text" [(ngModel)]="customer.address!.zipCode" id="zipCode" [className]="isEditing ? 'form-control' : 'form-control-plaintext'" placeholder="Zip Code"/>
            <label for="zipCode">Zip Code:</label>
        </div>
        <div class="form-floating mb-3">
            <input [readonly]="!isEditing" type="text" [(ngModel)]="customer.address!.city" id="city" [className]="isEditing ? 'form-control' : 'form-control-plaintext'" placeholder="City"/>
            <label for="city">City:</label>
        </div>

        <br/>
        <button type="button" class="btn btn-primary" *ngIf="!isEditing" (click)="editCustomer()">Edit Details</button>
        <button type="button" class="btn btn-warning" *ngIf="isEditing" (click)="cancelEdit()">Cancel</button>
        <button type="button" class="btn btn-success" *ngIf="isEditing" (click)="saveCustomer()">Save</button>

    </div>
</div>